# Настройка DNS для ispravleno.pro на своем сервере

## Ситуация

Вы видите ошибку "Домен не привязан к хостингу" от reg.ru, потому что DNS записи домена еще указывают на серверы reg.ru.

✅ **Решение:** Настроить DNS записи так, чтобы домен указывал на ваш сервер `212.74.227.208`

## Пошаговая инструкция

### Шаг 1: Войдите в панель управления reg.ru

1. Откройте https://www.reg.ru
2. Войдите в личный кабинет
3. Перейдите в раздел **"Домены"**
4. Найдите домен **`ispravleno.pro`**
5. Нажмите **"Управление"** или кликните на домен

### Шаг 2: Перейдите в настройки DNS

Найдите и откройте раздел:
- **"DNS-серверы и зона"** 
- или **"Управление DNS"**
- или **"Записи зоны"**

### Шаг 3: Измените A-записи

Найдите существующие **A-записи**, которые могут указывать на:
- `server263.hosting.reg.ru`
- или другие IP адреса серверов reg.ru

**Измените или создайте новые A-записи:**

1. **A-запись для корневого домена (@):**
   ```
   Тип записи: A
   Имя (поддомен): @ (или оставить пустым)
   IP-адрес: 212.74.227.208
   TTL: 3600 (или "Авто")
   ```

2. **A-запись для www:**
   ```
   Тип записи: A
   Имя (поддомен): www
   IP-адрес: 212.74.227.208
   TTL: 3600 (или "Авто")
   ```

### Шаг 4: Удалите старые записи (если есть)

Если есть A-записи, указывающие на:
- `server263.hosting.reg.ru`
- или любые другие IP адреса reg.ru

**Удалите их**, оставив только записи с `212.74.227.208`.

### Шаг 5: Сохраните изменения

Нажмите кнопку:
- **"Сохранить"**
- или **"Применить изменения"**
- или **"Обновить зону"**

### Шаг 6: Ожидание распространения DNS

⏱️ Изменения DNS распространяются от 5 минут до 48 часов.  
⏱️ Обычно это занимает **10-30 минут**.

## Проверка после изменений

### Через командную строку (на вашем компьютере):

```bash
# Windows (PowerShell)
nslookup ispravleno.pro

# Linux/Mac
dig ispravleno.pro
# или
nslookup ispravleno.pro
```

**Должно вернуться:**
```
ispravleno.pro    →    212.74.227.208
```

### Онлайн проверка:

Откройте в браузере:
- https://dnschecker.org/#A/ispravleno.pro
- https://mxtoolbox.com/DNSLookup.aspx

Введите `ispravleno.pro` и проверьте, что результат: `212.74.227.208`

### Когда DNS обновится:

Когда DNS записи обновятся, при открытии `ispravleno.pro`:
- ❌ Больше НЕ будет ошибки от reg.ru
- ✅ Будет открываться ваш сайт (или ошибка подключения, если Nginx еще не настроен)

## После обновления DNS - настройка на сервере

Когда DNS записи обновятся, выполните на вашем сервере:

```bash
# 1. Подключитесь к серверу
ssh user@212.74.227.208

# 2. Перейдите в директорию проекта
cd ~/Ispravleno/ispravleno-website/website

# 3. Обновите код
git pull origin main

# 4. Запустите скрипт настройки Nginx
chmod +x setup-ispravleno-pro.sh
./setup-ispravleno-pro.sh

# 5. Пересоберите проект
npm run build

# 6. Перезапустите PM2
pm2 restart ispravleno-website
```

## Важно понимать

✅ **Reg.ru используется ТОЛЬКО для управления доменом и DNS**  
✅ **Хостинг сайта - на ВАШЕМ сервере** `212.74.227.208`  
✅ **После изменения DNS - сайт будет работать на вашем сервере**  
❌ **НЕ нужно привязывать домен к хостингу reg.ru**  

## Схема работы

```
Пользователь открывает ispravleno.pro
         ↓
DNS запись (управляется в reg.ru)
         ↓
Указывает на 212.74.227.208 (ваш сервер)
         ↓
Nginx (порт 80/443) на вашем сервере
         ↓
Next.js приложение (порт 3003) на вашем сервере
         ↓
Сайт работает!
```

## Если что-то не понятно

Если интерфейс reg.ru отличается от описания:
1. Ищите раздел "DNS" или "Записи зоны"
2. Ищите записи типа "A" (не MX, не TXT, не CNAME)
3. Измените IP адрес на `212.74.227.208`
4. Сохраните изменения
